import Link from "next/link";
import { RxCross2 } from "react-icons/rx";
import { sendGAEvent, sendGTMEvent } from '@next/third-parties/google'

const TopBar = ({ state, fn, loginToken }: { state: boolean; fn: Function, loginToken:string }) => {
  return (
    <>
      <div
        // className={`bg-[#965EFB] ${
        //   state == false ? "hidden" : "block"
        // } fixed top-0 left-0 right-0 z-20 border-b-[1px] border-opacity-40 border-black`}
        className={`bg-[#965EFB]  ${
            state == false ? "hidden" : "block"
          }`}
      >
        <nav className="max-w-6xl mx-auto flex justify-between items-center px-[30px] xl:px-[90px] py-1">
          <div className="flex gap-[1rem] items-center text-white">
            <RxCross2 size={25} className="hover:text-black" onClick={fn} />
            <div>
              <p className="xl:text-[12px] xl:font-[600] md:text-[12px] md:font-[600]  text-[10px] font-[400]">
                Download App
              </p>
              <p className="text-[rgb(195,195,195)] text-[13px] font-[400] xl:text-[15px] md:text-[15px] md:font-[600] xl:font-[600]">
                Get app for quick access
              </p>
            </div>
          </div>
          <div className="cursor-pointer  hover:shadow-lg">
            <Link
              target="_blank"
              // rel="noopener noreferrer"
              href="https://play.google.com/store/apps/details?id=com.gurucool&pcampaignid=web_share"
              onClick={() => {
                if(loginToken) {
                  sendGTMEvent({ event: 'buttonClicked', value: 'AppDownload_Header_Click' })
                  sendGAEvent({
                    event: "buttonClicked",
                    value: "AppDownload_Header_Click",
                  });
                } else {
                  sendGTMEvent({ event: 'buttonClicked', value: 'AppDownload_Header_Click' })
                  sendGAEvent({
                    event: "buttonClicked",
                    value: "AppDownload_Header_Click",
                  });
                }
              }}
            >
              <svg
                className="xl:w-[130px] cursor-pointer w-[90px] md:w-[130px]"
                width="158"
                height="42"
                viewBox="0 0 158 42"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect width="158" height="42" rx="4" fill="#F7F7F7" />
                <path
                  d="M21.5 13H14.5C13.675 13 13 13.675 13 14.5V27.5C13 28.325 13.675 29 14.5 29H21.5C22.325 29 23 28.325 23 27.5V14.5C23 13.675 22.325 13 21.5 13ZM16 13.75H20V14.25H16V13.75ZM18 28C17.7348 28 17.4804 27.8946 17.2929 27.7071C17.1054 27.5196 17 27.2652 17 27C17 26.7348 17.1054 26.4804 17.2929 26.2929C17.4804 26.1054 17.7348 26 18 26C18.2652 26 18.5196 26.1054 18.7071 26.2929C18.8946 26.4804 19 26.7348 19 27C19 27.2652 18.8946 27.5196 18.7071 27.7071C18.5196 27.8946 18.2652 28 18 28ZM22 25H14V15H22V25Z"
                  fill="#3A3938"
                />
                <path
                  d="M41.0455 27H37.2784V15.3636H41.1648C42.3049 15.3636 43.2841 15.5966 44.1023 16.0625C44.9205 16.5246 45.5473 17.1894 45.983 18.0568C46.4223 18.9205 46.642 19.9564 46.642 21.1648C46.642 22.3769 46.4205 23.4186 45.9773 24.2898C45.5379 25.161 44.9015 25.8314 44.0682 26.3011C43.2348 26.767 42.2273 27 41.0455 27ZM39.0341 25.4659H40.9489C41.8352 25.4659 42.572 25.2992 43.1591 24.9659C43.7462 24.6288 44.1856 24.142 44.4773 23.5057C44.7689 22.8655 44.9148 22.0852 44.9148 21.1648C44.9148 20.2519 44.7689 19.4773 44.4773 18.8409C44.1894 18.2045 43.7595 17.7216 43.1875 17.392C42.6155 17.0625 41.9053 16.8977 41.0568 16.8977H39.0341V25.4659ZM52.3651 27.1761C51.5469 27.1761 50.8329 26.9886 50.223 26.6136C49.6132 26.2386 49.1397 25.714 48.8026 25.0398C48.4654 24.3655 48.2969 23.5777 48.2969 22.6761C48.2969 21.7708 48.4654 20.9792 48.8026 20.3011C49.1397 19.6231 49.6132 19.0966 50.223 18.7216C50.8329 18.3466 51.5469 18.1591 52.3651 18.1591C53.1832 18.1591 53.8973 18.3466 54.5071 18.7216C55.117 19.0966 55.5904 19.6231 55.9276 20.3011C56.2647 20.9792 56.4332 21.7708 56.4332 22.6761C56.4332 23.5777 56.2647 24.3655 55.9276 25.0398C55.5904 25.714 55.117 26.2386 54.5071 26.6136C53.8973 26.9886 53.1832 27.1761 52.3651 27.1761ZM52.3707 25.75C52.901 25.75 53.3404 25.6098 53.6889 25.3295C54.0374 25.0492 54.295 24.6761 54.4616 24.2102C54.6321 23.7443 54.7173 23.2311 54.7173 22.6705C54.7173 22.1136 54.6321 21.6023 54.4616 21.1364C54.295 20.6667 54.0374 20.2898 53.6889 20.0057C53.3404 19.7216 52.901 19.5795 52.3707 19.5795C51.8366 19.5795 51.3935 19.7216 51.0412 20.0057C50.6927 20.2898 50.4332 20.6667 50.2628 21.1364C50.0961 21.6023 50.0128 22.1136 50.0128 22.6705C50.0128 23.2311 50.0961 23.7443 50.2628 24.2102C50.4332 24.6761 50.6927 25.0492 51.0412 25.3295C51.3935 25.6098 51.8366 25.75 52.3707 25.75ZM59.956 27L57.3878 18.2727H59.1435L60.8537 24.6818H60.9389L62.6548 18.2727H64.4105L66.1151 24.6534H66.2003L67.8991 18.2727H69.6548L67.0923 27H65.3594L63.5866 20.6989H63.456L61.6832 27H59.956ZM72.9659 21.8182V27H71.267V18.2727H72.8977V19.6932H73.0057C73.2064 19.2311 73.5208 18.8598 73.9489 18.5795C74.3807 18.2992 74.9242 18.1591 75.5795 18.1591C76.1742 18.1591 76.6951 18.2841 77.142 18.5341C77.589 18.7803 77.9356 19.1477 78.1818 19.6364C78.428 20.125 78.5511 20.7292 78.5511 21.4489V27H76.8523V21.6534C76.8523 21.0208 76.6875 20.5265 76.358 20.1705C76.0284 19.8106 75.5758 19.6307 75 19.6307C74.6061 19.6307 74.2557 19.7159 73.9489 19.8864C73.6458 20.0568 73.4053 20.3068 73.2273 20.6364C73.053 20.9621 72.9659 21.3561 72.9659 21.8182ZM82.5284 15.3636V27H80.8295V15.3636H82.5284ZM88.4901 27.1761C87.6719 27.1761 86.9579 26.9886 86.348 26.6136C85.7382 26.2386 85.2647 25.714 84.9276 25.0398C84.5904 24.3655 84.4219 23.5777 84.4219 22.6761C84.4219 21.7708 84.5904 20.9792 84.9276 20.3011C85.2647 19.6231 85.7382 19.0966 86.348 18.7216C86.9579 18.3466 87.6719 18.1591 88.4901 18.1591C89.3082 18.1591 90.0223 18.3466 90.6321 18.7216C91.242 19.0966 91.7154 19.6231 92.0526 20.3011C92.3897 20.9792 92.5582 21.7708 92.5582 22.6761C92.5582 23.5777 92.3897 24.3655 92.0526 25.0398C91.7154 25.714 91.242 26.2386 90.6321 26.6136C90.0223 26.9886 89.3082 27.1761 88.4901 27.1761ZM88.4957 25.75C89.026 25.75 89.4654 25.6098 89.8139 25.3295C90.1624 25.0492 90.42 24.6761 90.5866 24.2102C90.7571 23.7443 90.8423 23.2311 90.8423 22.6705C90.8423 22.1136 90.7571 21.6023 90.5866 21.1364C90.42 20.6667 90.1624 20.2898 89.8139 20.0057C89.4654 19.7216 89.026 19.5795 88.4957 19.5795C87.9616 19.5795 87.5185 19.7216 87.1662 20.0057C86.8177 20.2898 86.5582 20.6667 86.3878 21.1364C86.2211 21.6023 86.1378 22.1136 86.1378 22.6705C86.1378 23.2311 86.2211 23.7443 86.3878 24.2102C86.5582 24.6761 86.8177 25.0492 87.1662 25.3295C87.5185 25.6098 87.9616 25.75 88.4957 25.75ZM96.9943 27.1932C96.4413 27.1932 95.9413 27.0909 95.4943 26.8864C95.0473 26.678 94.6932 26.3769 94.4318 25.983C94.1742 25.589 94.0455 25.1061 94.0455 24.5341C94.0455 24.0417 94.1402 23.6364 94.3295 23.3182C94.5189 23 94.7746 22.7481 95.0966 22.5625C95.4186 22.3769 95.7784 22.2367 96.1761 22.142C96.5739 22.0473 96.9792 21.9754 97.392 21.9261C97.9148 21.8655 98.339 21.8163 98.6648 21.7784C98.9905 21.7367 99.2273 21.6705 99.375 21.5795C99.5227 21.4886 99.5966 21.3409 99.5966 21.1364V21.0966C99.5966 20.6004 99.4564 20.2159 99.1761 19.9432C98.8996 19.6705 98.4867 19.5341 97.9375 19.5341C97.3655 19.5341 96.9148 19.661 96.5852 19.9148C96.2595 20.1648 96.0341 20.4432 95.9091 20.75L94.3125 20.3864C94.5019 19.8561 94.7784 19.428 95.142 19.1023C95.5095 18.7727 95.9318 18.5341 96.4091 18.3864C96.8864 18.2348 97.3883 18.1591 97.9148 18.1591C98.2633 18.1591 98.6326 18.2008 99.0227 18.2841C99.4167 18.3636 99.7841 18.5114 100.125 18.7273C100.47 18.9432 100.752 19.2519 100.972 19.6534C101.191 20.0511 101.301 20.5682 101.301 21.2045V27H99.642V25.8068H99.5739C99.464 26.0265 99.2992 26.2424 99.0795 26.4545C98.8598 26.6667 98.5777 26.8428 98.233 26.983C97.8883 27.1231 97.4754 27.1932 96.9943 27.1932ZM97.3636 25.8295C97.8333 25.8295 98.2348 25.7367 98.5682 25.5511C98.9053 25.3655 99.161 25.1231 99.3352 24.8239C99.5133 24.5208 99.6023 24.197 99.6023 23.8523V22.7273C99.5417 22.7879 99.4242 22.8447 99.25 22.8977C99.0795 22.947 98.8845 22.9905 98.6648 23.0284C98.4451 23.0625 98.2311 23.0947 98.0227 23.125C97.8144 23.1515 97.6402 23.1742 97.5 23.1932C97.1705 23.2348 96.8693 23.3049 96.5966 23.4034C96.3277 23.5019 96.1117 23.6439 95.9489 23.8295C95.7898 24.0114 95.7102 24.2538 95.7102 24.5568C95.7102 24.9773 95.8655 25.2955 96.1761 25.5114C96.4867 25.7235 96.8826 25.8295 97.3636 25.8295ZM106.831 27.1705C106.126 27.1705 105.498 26.9905 104.945 26.6307C104.395 26.267 103.964 25.75 103.649 25.0795C103.339 24.4053 103.183 23.5966 103.183 22.6534C103.183 21.7102 103.34 20.9034 103.655 20.233C103.973 19.5625 104.409 19.0492 104.962 18.6932C105.515 18.3371 106.142 18.1591 106.842 18.1591C107.384 18.1591 107.82 18.25 108.149 18.4318C108.482 18.6098 108.74 18.8182 108.922 19.0568C109.107 19.2955 109.251 19.5057 109.354 19.6875H109.456V15.3636H111.155V27H109.496V25.642H109.354C109.251 25.8277 109.104 26.0398 108.911 26.2784C108.721 26.517 108.46 26.7254 108.126 26.9034C107.793 27.0814 107.361 27.1705 106.831 27.1705ZM107.206 25.7216C107.695 25.7216 108.107 25.5928 108.445 25.3352C108.786 25.0739 109.043 24.7121 109.217 24.25C109.395 23.7879 109.484 23.25 109.484 22.6364C109.484 22.0303 109.397 21.5 109.223 21.0455C109.049 20.5909 108.793 20.2367 108.456 19.983C108.119 19.7292 107.702 19.6023 107.206 19.6023C106.695 19.6023 106.268 19.7348 105.928 20C105.587 20.2652 105.329 20.6269 105.155 21.0852C104.984 21.5436 104.899 22.0606 104.899 22.6364C104.899 23.2197 104.986 23.7443 105.161 24.2102C105.335 24.6761 105.592 25.0455 105.933 25.3182C106.278 25.5871 106.702 25.7216 107.206 25.7216ZM118.933 27H117.07L121.257 15.3636H123.286L127.473 27H125.609L122.32 17.4773H122.229L118.933 27ZM119.246 22.4432H125.291V23.9205H119.246V22.4432ZM129.017 30.2727V18.2727H130.676V19.6875H130.818C130.917 19.5057 131.059 19.2955 131.244 19.0568C131.43 18.8182 131.688 18.6098 132.017 18.4318C132.347 18.25 132.782 18.1591 133.324 18.1591C134.028 18.1591 134.657 18.3371 135.21 18.6932C135.763 19.0492 136.197 19.5625 136.511 20.233C136.83 20.9034 136.989 21.7102 136.989 22.6534C136.989 23.5966 136.831 24.4053 136.517 25.0795C136.203 25.75 135.771 26.267 135.222 26.6307C134.672 26.9905 134.045 27.1705 133.341 27.1705C132.811 27.1705 132.377 27.0814 132.04 26.9034C131.706 26.7254 131.445 26.517 131.256 26.2784C131.066 26.0398 130.92 25.8277 130.818 25.642H130.716V30.2727H129.017ZM130.682 22.6364C130.682 23.25 130.771 23.7879 130.949 24.25C131.127 24.7121 131.384 25.0739 131.722 25.3352C132.059 25.5928 132.472 25.7216 132.96 25.7216C133.468 25.7216 133.892 25.5871 134.233 25.3182C134.574 25.0455 134.831 24.6761 135.006 24.2102C135.184 23.7443 135.273 23.2197 135.273 22.6364C135.273 22.0606 135.186 21.5436 135.011 21.0852C134.841 20.6269 134.583 20.2652 134.239 20C133.898 19.7348 133.472 19.6023 132.96 19.6023C132.468 19.6023 132.051 19.7292 131.71 19.983C131.373 20.2367 131.117 20.5909 130.943 21.0455C130.769 21.5 130.682 22.0303 130.682 22.6364ZM138.892 30.2727V18.2727H140.551V19.6875H140.693C140.792 19.5057 140.934 19.2955 141.119 19.0568C141.305 18.8182 141.563 18.6098 141.892 18.4318C142.222 18.25 142.657 18.1591 143.199 18.1591C143.903 18.1591 144.532 18.3371 145.085 18.6932C145.638 19.0492 146.072 19.5625 146.386 20.233C146.705 20.9034 146.864 21.7102 146.864 22.6534C146.864 23.5966 146.706 24.4053 146.392 25.0795C146.078 25.75 145.646 26.267 145.097 26.6307C144.547 26.9905 143.92 27.1705 143.216 27.1705C142.686 27.1705 142.252 27.0814 141.915 26.9034C141.581 26.7254 141.32 26.517 141.131 26.2784C140.941 26.0398 140.795 25.8277 140.693 25.642H140.591V30.2727H138.892ZM140.557 22.6364C140.557 23.25 140.646 23.7879 140.824 24.25C141.002 24.7121 141.259 25.0739 141.597 25.3352C141.934 25.5928 142.347 25.7216 142.835 25.7216C143.343 25.7216 143.767 25.5871 144.108 25.3182C144.449 25.0455 144.706 24.6761 144.881 24.2102C145.059 23.7443 145.148 23.2197 145.148 22.6364C145.148 22.0606 145.061 21.5436 144.886 21.0852C144.716 20.6269 144.458 20.2652 144.114 20C143.773 19.7348 143.347 19.6023 142.835 19.6023C142.343 19.6023 141.926 19.7292 141.585 19.983C141.248 20.2367 140.992 20.5909 140.818 21.0455C140.644 21.5 140.557 22.0303 140.557 22.6364Z"
                  fill="#3A3938"
                />
                <rect
                  x="0.5"
                  y="0.5"
                  width="157"
                  height="41"
                  rx="3.5"
                  stroke="#965EFB"
                  strokeOpacity="0.7"
                />
              </svg>
            </Link>
          </div>
        </nav>
      </div>
    </>
  );
};
export default TopBar;
